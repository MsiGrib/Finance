@using MudBlazor
@inherits LayoutComponentBase

<MudItem Class="@(IsOpen ? "nav__panel open" : "nav__panel")">
    <MudDrawerContainer Class="mud-height-full">
        <MudDrawer @bind-Open="IsOpen"
        Fixed="true"
        Elevation="1"
        Variant="DrawerVariant.Mini"
        OpenMiniOnHover="true"
        MiniVariantWidth="50px"
        Width="200px">

            <MudItem Class="nav__item">
                <MudButton OnClick="NavigationToHome" Class="mt-2" FullWidth="true" Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.Home" Color="Color.Primary">
                    @if (IsOpen)
                    {
                        <MudText>Главная</MudText>
                    }
                </MudButton>
                @if (AuthState.IsAuthenticated)
                {
                    <MudButton OnClick="NavigationToFinance" Class="mt-2" FullWidth="true" Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.SsidChart" Color="Color.Primary">
                        @if (IsOpen)
                        {
                            <MudText>Графики</MudText>
                        }
                    </MudButton>
                    <MudButton OnClick="NavigationToReport" Class="mt-2" FullWidth="true" Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.DocumentScanner" Color="Color.Primary">
                        @if (IsOpen)
                        {
                            <MudText>Отчёты</MudText>
                        }
                    </MudButton>
                }
                @if (!AuthState.IsAuthenticated)
                {
                    <MudButton OnClick="NavigationToLogIn" Class="mb-2 button__low" FullWidth="true" Variant="Variant.Text" StartIcon="@Icons.Material.Filled.AccountBox" Color="Color.Primary">
                        @if (IsOpen)
                        {
                            <MudText>Вход</MudText>
                        }
                    </MudButton>
                }
                else
                {
                    <MudButton OnClick="LogOut" Class="mb-2 button__low" FullWidth="true" Variant="Variant.Text" StartIcon="@Icons.Material.Filled.Person" Color="Color.Primary">
                        @if (IsOpen)
                        {
                            <MudText>Выход</MudText>
                        }
                    </MudButton>
                }
            </MudItem>
        </MudDrawer>
    </MudDrawerContainer>
</MudItem>

<style>
    .nav__panel {
        position: fixed;
        top: 0;
        left: 0;
        height: 100vh;
        width: 50px;
        transition: width 0.3s ease;
        z-index: 1000;
    }

        .nav__panel:hover,
        .nav__panel.open {
            width: 200px;
        }

    .nav__item {
        display: flex;
        flex-direction: column;
        height: 100%;
        justify-content: space-between;
    }

    .button__low {
        margin-top: auto;
    }
</style>